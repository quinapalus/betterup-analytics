version: 2
models:
  - name: stg_app__assessment_contributors
    description: >
      Join table for assessments that require responses from multiple contributors,
      e.g.
      180 and 360 assessments. Includes a row for every requested contribution.

    columns:
      - name: assessment_contributor_id
        description: Primary key
        tests:
          - unique
          - not_null

      - name: assessment_id
        description: Foreign Key to the (parent) self assessment for the given contributor.
        tests:
          - not_null

      - name: role
        description: >
          Role of the Assessment Contributor.
        tests:
          - accepted_values:
              values: [manager, direct_report, other_coworker]

      - name: contributor_id
        description: >
          Foreign Key to `user_id` of the Contributor
        tests:
          - not_null

      - name: response_assessment_id
        description: >
          Foreign Key to contributor's assessment

      - name: created_at
        description: Timestamp for when the contribution was first requested.
        tests:
          - not_null

      - name: updated_at
        description: >
          Rails timestamp for when the record was last  updated.
        tests:
          - not_null
