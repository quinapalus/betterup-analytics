version: 2

models:
  - name: stg_sfdc__accounts_snapshot
    description: ""
    columns:
      - name: history_primary_key
        tests:
          - unique
          - not_null
          
      - name: sfdc_account_id
        tests:
          - not_null

      - name: parent_sfdc_account_id
        description: ""

      - name: account_owner_id
        description: ""

      - name: account_csm_id
        description: ""

      - name: account_sdr_id
        description: ""

      - name: account_dm_id
        description: ""

      - name: account_sc_id
        description: ""

      - name: zoominfo_id
        description: ""

      - name: zoominfo_ultimate_parent_id
        description: ""

      - name: ultimate_parent
        description: ""

      - name: account_name
        description: ""

      - name: industry
        description: ""

      - name: account_primary_industry_zoominfo
        description: ""

      - name: account_segment
        description: ""

      - name: account_solutions
        description: ""

      - name: account_type
        description: ""

      - name: billing_city
        description: ""

      - name: billing_country
        description: ""

      - name: billing_state
        description: ""

      - name: company_size
        description: ""

      - name: pricing_reccomendation
        description: ""

      - name: expansion_priority_score
        description: ""

      - name: account_lifecycle_stage
        description: ""

      - name: highest_level_champion
        description: "Used to indicate the highest level champion that the account CSM has access to.
                      This is used in Account Health Scoring."
        tests:
          - accepted_values:
              values: ['C-Suite','LOB Exec','VP HR', 'Manager/Director HR']
              config:
                severity: warn
                warn_if: ">1"
                
      - name: first_session_completed_rate
        description: ""

      - name: sphere_of_influence
        description: "AKA Network Strength, this field is used by CSMs to indicate how many champions 
                      we have at an account. A champion is an advocate for the adoption and success of the partnership. 
                      Champions have authority to change business processes and can directly influence or make buying decisions.
                      Champions should also be people we can readily reach out to and schedule a meeting with when we need one"

      - name: strategic_catalysts
        description: ""

      - name: db_region
        description: ""

      - name: account_tier
        description: ""

      - name: csm_health_rating
        description: "AKA CSM Sentiment, this field is used by CSMs to indicate the health of the account.
                      It is a crucial input in how we calculate account health scores. 
                      Read https://betterup.atlassian.net/wiki/spaces/AN/pages/3147989058/Final+Account+Health+Score+Calculation
                      for more detail.
                      If the accepted values test for this field fails reach out to PE&O team and ask them if the
                      picklist values in Salesforce have changed and what that change should mean for account health."
        tests:
          - accepted_values:
              values: ['Healthy', 'Somewhat at Risk','At Risk','Somewhat Healthy']

      - name: pod_segment
        description: ""

      - name: levels_of_focus
        description: ""

      - name: adjusted_account_segment
        description: ""

      - name: bingo_card_bucket
        description: ""

      - name: six_sense_account_buying_stage
        description: ""

      - name: six_sense_account_intent_score
        description: ""

      - name: six_sense_account_profile_fit
        description: ""

      - name: six_sense_account_profile_score
        description: ""

      - name: maturity_curve
        description: "A field used by CSMs to indicate where this customer is at in their journey with BetterUp. This is an important factor in account health scoring.
                      Learning Programs = The partner is supporting the long-tail of learning and improving effectiveness of individual talent programs
                      Moments that Matter = The partner is enhancing the development experience across the employee lifecycle (e.g. onboarding, promotions, etc.)
                      Strategic Transformation = The partner is driving large-scale change and culture transformation
                      Continuous Growth = The partner is creating an adaptive system to drive precision development across the full organization"

      - name: success_plan_link
        description: ""

      - name: care_tier
        description: ""

      - name: global_2000_2022
        description: "Global 2000 ranking"

      - name: betterup_segment
        description: "Global account segment"

      - name: number_of_employees
        description: ""

      - name: previous_quarter_carr_unconverted
        description: ""

      - name: number_of_programs
        description: ""

      - name: sum_of_all_nps_scores
        description: ""

      - name: count_of_all_nps_scores
        description: ""

      - name: most_recent_partner_rps
        description: ""

      - name: annual_account_revenue_zoominfo_unconverted
        description: ""

      - name: is_top_level_parent_account
        description: ""

      - name: is_care_lighthouse_account
        description: ""

      - name: created_at
        description: ""

      - name: last_modified_at
        description: ""

      - name: last_qbr_at
        description: ""

      - name: success_plan_last_updated_at
        description: ""

      - name: last_executive_sponsor_engagement_at
        description: ""

      - name: is_deleted
        description: ""

      - name: currency_iso_code
        description: ""

      - name: valid_from
        description: ""

      - name: valid_to
        description: ""

      - name: is_current_version
        description: ""

      - name: version
        description: ""

      - name: is_last_snapshot_of_day
        description: ""
      
      - name: primary_risk_reason
        description: "Gets populated by CSMs when CSM sentiment is at risk or somewhat at risk to indicate the primary reason why"

      - name: zoominfo_customer_experience_systems
        description: Detailed information on the customer experience systems from Zoominfo

      - name: zoominfo_customer_feedback_systems
        description: Detailed information on the customer feedback systems from Zoominfo

      - name: zoominfo_email_hosting_systems
        description: Detailed information on the email hosting systems from Zoominfo

      - name: zoominfo_erp_software
        description: Detailed information on the ERP software from Zoominfo

      - name: zoominfo_filesharing_systems
        description: Detailed information on the file sharing systems from Zoominfo

      - name: zoominfo_hr_software
        description: Detailed information on the HR software from Zoominfo

      - name: zoominfo_lms_software
        description: Detailed information on the LMS software from Zoominfo

      - name: zoominfo_operating_systems
        description: Detailed information on the operating systems from Zoominfo

      - name: zoominfo_other_comm_collab_systems
        description: Detailed information on the other communication and collaboration systems from Zoominfo

      - name: zoominfo_other_hr_systems
        description: Detailed information on the other HR systems from Zoominfo

      - name: zoominfo_other_it_systems
        description: Detailed information on the other IT systems from Zoominfo

      - name: zoominfo_team_collaboration
        description: Detailed information on the team collaboration tools from Zoominfo
        
      - name: zoominfo_business_process_systems
        description: Detailed information on the business process systems from Zoominfo
