version: 2
models:
  - name: dei_whole_person_subdimension_scores
    description: >
      This model contains computed scale scores for each subdimension in WPM 1.0 and WPM 2.0.
      Scale scores are normalized scores with mean = 50 and SD = 20, restricted to a minimum
      score of 5 and a maximum score of 100.


    columns:
      - name: source
        description: >
          String denoting the Rails type of the assessment.
        tests:
           - not_null

      - name: assessment_id
        description: Foreign key to associated assessment.
        tests:
          - not_null

      - name: member_id
        description: Foreign key to associated member.
        tests:
          - not_null

      - name: track_id
        description: >
          Foreign key to associated track, denormalized from `dei_member_assessments`.
        tests:
          - not_null

      - name: assessment_subdimension_key
        description: >
          Unpacked subdimension key from application-generated scores in responses
          field of app_assessments.
        tests:
           - not_null

      - name: whole_person_model_version
        description: WPM version for the associated subdimension score.
        tests:
          - not_null
          - accepted_values:
              values: [WPM 1.0, WPM 2.0]

      - name: scale_score
        description: >
          Unpacked subdimension scale score generated by the application for WPM 2.0 in
          the responses field of app_assessments. For WPM 1.0 subdimensions, the scale
          score is computed in the warehouse using the application's `z_score`.
